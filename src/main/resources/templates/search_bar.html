<!DOCTYPE html>
<html lagn="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>안녕?fdfdfdfdfdf</title>
    <style>
        #navbarVerticalCollapse {
            /*width: 1280px;*/
            height: 100%;
            background-image: url('/img/background_img.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            padding: 20px;
        }
        .navbar-vertical-content {
            width: 400px;
            height: 800px;
            border-radius: 20px;
            padding: 20px;
        }
        .dropdown-menu>li {
            display:inline;
        }

        .btn-group {
            position: relative;
        }

        input#directorNm, input#actorNm {
            border: none;
            height: 1.5em;
            width: 290px;

        }
        button.dropdown-toggle {
            height: 1.7em;

        }

    </style>
</head>
<body>
<script  src="http://code.jquery.com/jquery-latest.min.js"></script>
    <div class="navbar-collapse" id="navbarVerticalCollapse">
      <div class="navbar-vertical-content scrollbar bg-dark text-white" style="--bs-bg-opacity: .7;">
          <div class="btn-group">
              <span for="director_search">감독&nbsp;</span>
              <input type="text" id="directorNm">


              <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">

              </button>
              <ul  class="dropdown-menu dropdown-menu-end" style="width: 500px;">
                  <li th:each="director: ${directorList}" style="display:inline; float:left; font-size:11px">
                      <a class="dropdown-item director-item" href="#" th:text="${director.directorNm}"></a>

                  </li>
                  <!--<li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#">Separated link</a></li>-->
              </ul>
          </div>
          <br>
          <div class="btn-group">
              <span for="director_search">배우&nbsp;</span>
              <input type="text" id="actorNm">


              <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">

              </button>
              <ul  class="dropdown-menu dropdown-menu-end" style="width: 500px;">
                  <li th:each="actor: ${actorList}" style="display:inline; float:left; font-size:11px">
                      <a class="dropdown-item actor-item" href="#" th:text="${actor.actorNm}"></a>

                  </li>
                  <!--<li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#">Separated link</a></li>-->
              </ul>
          </div>
      </div>
    </div>



  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<script>
    $(document).ready(function(){

      var director = $('#directorNm')

      $('.director-item').click(function(e) {
          e.preventDefault();
          var text = $(this).text();
          if(director.val().length == 0) {
              var textList = director.val().split('/');
              var pressed = textList[textList.length-1];
              director.val(director.val().replace(pressed, ''));
              director.val(text + '/');
          } else {
              var textList = director.val().split('/');
              var pressed = textList[textList.length-1];
              director.val(director.val().replace(pressed, ''));
              director.val(director.val() + text + '/');
          }

      });

    var dropdownItemList = document.getElementsByClassName('director-item');
    director.keyup(function(e) {
        var textList = $(this).val().split('/');
        console.log(textList);
        var pressed = textList[textList.length-1];
        console.log(pressed);
        for(var i=0; i<dropdownItemList.length; i++) {
            if(dropdownItemList[i].innerHTML.includes(pressed) && pressed.trim().length !=0) {
                dropdownItemList[i].style.color = 'red';
            } else {
                dropdownItemList[i].style.color = 'black';
            }
        }
    });

        var actor = $('#actorNm')

        $('.actor-item').click(function(e) {
            e.preventDefault();
            var text = $(this).text();
            if(actor.val().length == 0) {
                var textList = actor.val().split('/');
                var pressed = textList[textList.length-1];
                actor.val(actor.val().replace(pressed, ''));
                actor.val(text + '/');
            } else {
                var textList = actor.val().split('/');
                var pressed = textList[textList.length-1];
                actor.val(actor.val().replace(pressed, ''));
                actor.val(actor.val() + text + '/');
            }

        });

        var dropdownItemList = document.getElementsByClassName('actor-item');
        actor.keyup(function(e) {
            var textList = $(this).val().split('/');
            console.log(textList);
            var pressed = textList[textList.length-1];
            console.log(pressed);
            for(var i=0; i<dropdownItemList.length; i++) {
                if(dropdownItemList[i].innerHTML.includes(pressed) && pressed.trim().length !=0) {
                    dropdownItemList[i].style.color = 'red';
                } else {
                    dropdownItemList[i].style.color = 'black';
                }
            }
        });

  });
  </script>
</body>
</body>
</html>